import{ak as B,B as N,A as S,j as c,p as U,q as $,r as g,s as G,t as I,c as q,w as J,x as K,D as E,C as V,E as P}from"./main.lazy-CZe3r9nd.js";import{i as D,t as T,c as M,v as Y,d as _,T as A,R as Q,f as X,h as Z}from"./index-CIyy-mvg.js";import{p as w}from"./withLoader-Djp4SAvM.js";function tt(t){const e=B.useGuaranteedMemo(()=>N.Evt.create(),[t]);return S.useEvt(s=>{t!==void 0&&t.attach(s,a=>e.post(a))},[t]),t===void 0?void 0:e}function R(t){return t.charAt(0).toUpperCase()+t.slice(1)}function et(t){const{stringWithHighlights:{charArray:e,highlightedIndexes:s},doCapitalize:a,highlightedCharClassName:o}=t,n=e.join("");return s.length===0?a?R(n):n:c.jsx("span",{"aria-label":n,children:e.map(a?(i,r)=>r===0?i.toUpperCase():i:D).map((i,r)=>s.includes(r)?c.jsx("span",{className:o,children:i},r):i)})}function k(t){const{textMaybeNotInAmbientLanguage:e,renderText:s}=t;if(typeof e=="string")return s(e);const{text:a,langAttrValue:o}=e;return c.jsx("span",{lang:o,children:s(a)})}function st(t){const{text:e,doCapitalize:s}=t,{classes:a}=at();return k({textMaybeNotInAmbientLanguage:D(e),renderText:o=>typeof o=="string"?s?R(o):o:et({stringWithHighlights:o,doCapitalize:s,highlightedCharClassName:a.highlightedCharClassName})})}const at=T.withName({CoreViewText:st}).create(({theme:t})=>({highlightedCharClassName:{color:t.colors.useCases.typography.textFocus,fontWeight:"bold"}})),ot=M(c.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rt(t){return U("MuiAvatar",t)}$("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const nt=t=>{const{classes:e,variant:s,colorDefault:a}=t;return J({root:["root",s,a&&"colorDefault"],img:["img"],fallback:["fallback"]},rt,e)},it=I("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],s.colorDefault&&e.colorDefault]}})(K(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),ct=I("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lt=I(ot,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function ut({crossOrigin:t,referrerPolicy:e,src:s,srcSet:a}){const[o,n]=g.useState(!1);return g.useEffect(()=>{if(!s&&!a)return;n(!1);let i=!0;const r=new Image;return r.onload=()=>{i&&n("loaded")},r.onerror=()=>{i&&n("error")},r.crossOrigin=t,r.referrerPolicy=e,r.src=s,a&&(r.srcset=a),()=>{i=!1}},[t,e,s,a]),o}const dt=g.forwardRef(function(e,s){const a=G({props:e,name:"MuiAvatar"}),{alt:o,children:n,className:i,component:r="div",slots:f={},slotProps:h={},imgProps:y,sizes:v,src:p,srcSet:x,variant:C="circular",...d}=a;let u=null;const l={...a,component:r,variant:C},m=ut({...y,...typeof h.img=="function"?h.img(l):h.img,src:p,srcSet:x}),b=p||x,O=b&&m!=="error";l.colorDefault=!O,delete l.ownerState;const j=nt(l),[H,W]=Y("img",{className:j.img,elementType:ct,externalForwardedProps:{slots:f,slotProps:{img:{...y,...h.img}}},additionalProps:{alt:o,src:p,srcSet:x,sizes:v},ownerState:l});return O?u=c.jsx(H,{...W}):n||n===0?u=n:b&&o?u=o[0]:u=c.jsx(lt,{ownerState:l,className:j.fallback}),c.jsx(it,{as:r,className:q(j.root,i),ref:s,...d,ownerState:l,children:u})}),gt=M(c.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),L=g.memo(t=>{const{className:e,image:s,title:a,subtitle:o,onGoBack:n}=t,{classes:i,cx:r}=pt({classesOverrides:t.classes});return c.jsxs("div",Object.assign({className:r(i.root,e)},{children:[c.jsx("div",{children:c.jsx(_,{size:"large",icon:gt,onClick:n})}),c.jsx("div",Object.assign({className:i.imageWrapper},{children:s})),c.jsxs("div",{children:[c.jsx(A,Object.assign({typo:"object heading"},{children:a})),o!==void 0&&c.jsx(A,Object.assign({typo:"caption",className:i.subtitle},{children:o}))]})]}))}),pt=E.withName({DirectoryHeader:L}).create(({theme:t})=>({root:{display:"flex",alignItems:"center",borderBottom:`1px solid ${t.colors.useCases.typography.textTertiary}`},imageWrapper:Object.assign(Object.assign({margin:t.spacing({topBottom:4,rightLeft:3}),marginLeft:t.spacing(1)},(()=>{const e=w(t.typography.variants["object heading"].style.lineHeight)+w(t.typography.variants.caption.style.lineHeight)+t.spacing(2);return{width:e,height:e}})()),{display:"flex",justifyContent:"center",alignItems:"center"}),subtitle:{marginTop:t.spacing(2),color:t.colors.useCases.typography.textSecondary,textTransform:"capitalize"}})),z=g.memo(t=>{const{minDepth:e=0,isNavigationDisabled:s=!1,onNavigate:a,className:o,evtAction:n,separatorChar:i="/"}=t,r=tt(n),[f,h]=g.useState(t.path),[y,v]=g.useState(!1),[p]=g.useState(()=>N.Evt.create(t.path));g.useEffect(()=>{p.state=t.path},[JSON.stringify(t.path)]),S.useEvt(d=>p.toStateless(d).attach(u=>{v(!1),h(u)}),[p]),S.useEvt(d=>{const u=r?.pipe(l=>l.action==="DISPLAY COPY FEEDBACK"?[l.basename]:null);u?.attach(d,l=>{v(!0),h([...p.state,...l?[l]:[]]);const m=N.Evt.newCtx(),b=setTimeout(()=>{m.done(),v(!1),h(p.state)},500);m.evtDoneOrAborted.attachOnce(()=>clearTimeout(b)),u.attachOnce(m,()=>m.done()),p.toStateless(m).attachOnce(()=>m.done()),d.evtDoneOrAborted.attachOnce(m,()=>m.done())})},[r,p]);const x=Q.useCallbackFactory(([d,u])=>u?a({path:d,upCount:f.length-d.length}):V(!1)),C=g.useMemo(()=>ht({path:f,minDepth:e,isNavigationDisabled:s}),[JSON.stringify(f),e,s]);return c.jsx("div",Object.assign({className:o},{children:C.map(({isClickable:d,isLast:u,partialPath:l})=>c.jsx(mt,Object.assign({},{isClickable:d,isLast:u,partialPath:l,isFocused:y},{onClick:x(l,d),separatorChar:i}),JSON.stringify(l)))}))});function ht(t){const{path:e,isNavigationDisabled:s}=t,{minDepth:a}=t;return e.map((...[,o])=>{const n=o===e.length-1;return{partialPath:[...e].splice(0,o+1),isLast:n,isClickable:s?!1:!n&&o>=a}})}const{Section:mt}=(()=>{function e(a){const{partialPath:o,isLast:n,onClick:i,isFocused:r,isClickable:f,separatorChar:h}=a,y=g.useMemo(()=>`${o.slice(-1)[0]}${n?"":` ${h}`}`,[o,n]),{classes:v}=s({isClickable:f,isFocused:r,isLast:n});return c.jsx(A,Object.assign({typo:"body 1",className:v.root,componentProps:{onClick:f?i:void 0},fixedSize_enabled:!0,fixedSize_fontWeight:500},{children:y}))}const s=E.withName(`${P({Breadcrumb:z})}${P({Section:e})}`).withParams().create(({theme:a,isClickable:o,isFocused:n,isLast:i})=>({root:Object.assign(Object.assign({},o?{cursor:"pointer","&:hover, &:focus":{fontWeight:500,color:a.colors.useCases.typography.textPrimary},"&:active":{color:a.colors.useCases.typography.textFocus}}:{}),{color:a.colors.useCases.typography[n?"textFocus":i?"textPrimary":"textSecondary"]})}));return{Section:e}})(),F=g.memo(t=>{const{className:e,viewHeader:s,onNavigateUp:a}=t,{classes:o,css:n}=ft(),{t:i}=X({EducationalResourceHeader:F});return c.jsxs("div",{className:e,children:[c.jsx(L,{image:c.jsx(dt,{src:s.imageUrl,alt:"",className:o.directoryHeaderImage,classes:{img:n({objectFit:"contain"})}}),title:k({textMaybeNotInAmbientLanguage:s.name,renderText:r=>r}),subtitle:s.authors.length===1?k({textMaybeNotInAmbientLanguage:s.authors[0],renderText:r=>r}):c.jsxs("span",{children:[s.authors.length," ",i("contributors")]}),onGoBack:()=>a({upCount:1})}),c.jsx(z,{className:o.breadcrumb,path:[i("trainings"),...s.path.map(r=>r.text)],onNavigate:a})]})}),ft=T.withName({EducationalResourceHeader:F}).create(({theme:t})=>({directoryHeaderImage:{height:"100%",width:"100%"},breadcrumb:{marginTop:t.spacing(4)}})),{i18n:bt}=Z.declareComponentKeys()({EducationalResourceHeader:F});export{dt as A,st as C,F as E,R as c,tt as u};
//# sourceMappingURL=EducationalResourceHeader-DqYmIKw4.js.map

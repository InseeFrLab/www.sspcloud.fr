{"version":3,"mappings":"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","names":["defaultPalette","onyxiaUiEarlyInit","params","getPaletteOverride","isDarkModeEnabled","value","POWERHOOKS_KEY","backgroundColor","_a","_b","paletteOverride","key","element","id","remove_existing_element","isObject","item","mergeDeep","a","b","output","getSspcloudPalette"],"ignoreList":[0,1],"sources":["../../node_modules/onyxia-ui/lib/color.urgent.js","../../node_modules/onyxia-ui/earlyInit.js","../../src/ui/tools/mergeDeep.ts","../../src/ui/theme/sspcloudPalette.ts","../../src/ui/main.ts"],"sourcesContent":["export const defaultPalette = {\n    focus: {\n        main: \"#FF562C\",\n        light: \"#FF562C\",\n        light2: \"#FFAD99\",\n    },\n    dark: {\n        main: \"#2C323F\",\n        light: \"#373E4F\",\n        greyVariant1: \"#242C39\",\n        greyVariant2: \"#5A6270\",\n        greyVariant3: \"#8A9099\",\n        greyVariant4: \"#B8BABF\",\n    },\n    light: {\n        main: \"#F1F0EB\",\n        light: \"#FDFDFC\",\n        greyVariant1: \"#E6E6E6\",\n        greyVariant2: \"#C9C9C9\",\n        greyVariant3: \"#9E9E9E\",\n        greyVariant4: \"#747474\",\n    },\n    redError: {\n        main: \"#CC0B0B\",\n        light: \"#FEECEB\",\n    },\n    greenSuccess: {\n        main: \"#29CC2F\",\n        light: \"#EEFAEE\",\n    },\n    orangeWarning: {\n        main: \"#FF8800\",\n        light: \"#FFF5E5\",\n    },\n    blueInfo: {\n        main: \"#2196F3\",\n        light: \"#E9F5FE\",\n    },\n};\n//# sourceMappingURL=color.urgent.js.map","import { defaultPalette } from \"./lib/color.urgent\";\n/*\nThis is a way to get the correct background color as soon as possible,\neven before the JavaScript bundle is evaluated.\nIt is to prevent a white flash when the user has dark mode enabled.\nIt is very implementation dependent and can easily break...\nif it does no big deal.\n*/\nexport function onyxiaUiEarlyInit(params) {\n    const { isDarkModeEnabled_force, getPaletteOverride } = params;\n    const isDarkModeEnabled = /true/.test((() => {\n        if (isDarkModeEnabled_force !== undefined) {\n            return `${isDarkModeEnabled_force}`;\n        }\n        let value = null;\n        try {\n            value = new URLSearchParams(location.search).get(\"theme\");\n        }\n        catch (_a) { }\n        if (value === \"light\") {\n            return \"true\";\n        }\n        if (value === \"dark\") {\n            return \"false\";\n        }\n        value = null;\n        const POWERHOOKS_KEY = \"powerhooks_useGlobalState_isDarkModeEnabled\";\n        try {\n            value = new URLSearchParams(location.search).get(POWERHOOKS_KEY);\n        }\n        catch (_b) { }\n        if (value !== null) {\n            return value;\n        }\n        try {\n            value = localStorage.getItem(POWERHOOKS_KEY);\n        }\n        catch (_c) { }\n        if (value !== null) {\n            return value;\n        }\n        try {\n            value = window.matchMedia(\"(prefers-color-scheme: dark)\")\n                .matches\n                ? \"true\"\n                : \"false\";\n        }\n        catch (_d) { }\n        if (value !== null) {\n            return value;\n        }\n        return \"false\";\n    })());\n    {\n        const backgroundColor = (() => {\n            var _a, _b;\n            const paletteOverride = getPaletteOverride === null || getPaletteOverride === void 0 ? void 0 : getPaletteOverride({ isDarkModeEnabled });\n            const key = isDarkModeEnabled ? \"dark\" : \"light\";\n            return (_b = (_a = paletteOverride === null || paletteOverride === void 0 ? void 0 : paletteOverride[key]) === null || _a === void 0 ? void 0 : _a.main) !== null && _b !== void 0 ? _b : defaultPalette[key].main;\n        })();\n        document.documentElement.style.backgroundColor = backgroundColor;\n        while (true) {\n            const element = document.querySelector(\"meta[name=theme-color]\");\n            if (element === null) {\n                break;\n            }\n            element.remove();\n        }\n        document.head.insertAdjacentHTML(\"beforeend\", '<meta name=\"theme-color\" content=\"' + backgroundColor + '\">');\n    }\n    {\n        const id = \"root-color-scheme\";\n        remove_existing_element: {\n            const element = document.getElementById(id);\n            if (element === null) {\n                break remove_existing_element;\n            }\n            element.remove();\n        }\n        const element = document.createElement(\"style\");\n        element.id = id;\n        element.innerHTML = `\n\t\t\t\t:root {\n\t\t\t\t\tcolor-scheme: ${isDarkModeEnabled ? \"dark\" : \"light\"}\n\t\t\t\t}\n\t\t`;\n        document.getElementsByTagName(\"head\")[0].appendChild(element);\n    }\n    // To enable custom css stylesheets to target a specific theme\n    document.documentElement.setAttribute(\"theme\", isDarkModeEnabled ? \"dark\" : \"light\");\n}\n//# sourceMappingURL=earlyInit.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction isObject(item: any) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n\nexport function mergeDeep<\n    A extends Record<string, unknown>,\n    B extends Record<string, unknown>,\n>(a: A, b: B): A & B {\n    const output = Object.assign({}, a);\n    if (isObject(a) && isObject(b)) {\n        Object.keys(b).forEach(key => {\n            if (isObject(b[key])) {\n                if (!(key in a)) Object.assign(output, { [key]: b[key] });\n                else {\n                    // @ts-expect-error: we know what we are doing\n                    output[key] = mergeDeep(a[key], b[key]);\n                }\n            } else {\n                Object.assign(output, { [key]: b[key] });\n            }\n        });\n    }\n    // @ts-expect-error: we know what we are doing\n    return output;\n}\n","import { defaultPalette } from \"onyxia-ui/lib/color.urgent\";\nimport { mergeDeep } from \"ui/tools/mergeDeep\";\n\nexport function getSspcloudPalette(params: { isDarkModeEnabled: boolean }) {\n    const { isDarkModeEnabled } = params;\n    return mergeDeep(\n        defaultPalette,\n        isDarkModeEnabled\n            ? {\n                  focus: {\n                      main: \"#5695FB\",\n                      light: \"#5695FB\",\n                  },\n                  dark: {\n                      main: \"#0A0F18\",\n                      light: \"#040B17\",\n                      greyVariant1: \"#1A2330\",\n                  },\n                  light: {\n                      main: \"#EBEFF6\",\n                  },\n              }\n            : {\n                  focus: {\n                      main: \"#3B82F6\",\n                      light: \"#3B82F6\",\n                  },\n                  light: {\n                      main: \"#FAFAFA\",\n                      light: \"#FFFFFF\",\n                      greyVariant1: \"#EBEFF6\",\n                  },\n              },\n    );\n}\n","import { onyxiaUiEarlyInit } from \"onyxia-ui/earlyInit\";\nimport { getSspcloudPalette } from \"ui/theme/sspcloudPalette\";\n\nonyxiaUiEarlyInit({\n    isDarkModeEnabled_force: undefined,\n    getPaletteOverride: getSspcloudPalette,\n});\n\nimport(\"./main.lazy\");\n"],"file":"assets/index-Bx3XOc-J.js"}